<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The AI Coding Agent Rule Specification (AI-Rule-Spec) is a unified framework for defining AI coding agent rules. It combines the precision of a structured format (YAML) with the expressiveness of natural language (Markdown)."> 
    <meta name="author" content="Omar Santos">
    <meta name="keywords" content="AI Coding Agent Rules, AI Coding Agent Rule Specification, AI Coding Agent Rule Spec, AI Coding Agent Rule Spec Proposal, AI Coding Agent Rule Spec Implementation, AI Coding Agent Rule Spec Comparison, AI Coding Agent Rule Spec Implementation Approaches, AI Coding Agent Rule Spec Implementation Patterns, AI Coding Agent Rule Spec Implementation Strategies, AI Coding Agent Rule Spec Implementation Approaches, AI Coding Agent Rule Spec Implementation Patterns, AI Coding Agent Rule Spec Implementation Strategies, GitHub Copilot, Cursor, Windsurf, Codex, Claude Code, AI Coding Agent Rules, GitHub Copilot, Cursor, Windsurf, Codex, Augment Code, Claude Code">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="yandexbot" content="index, follow">
    <meta name="sitemap" content="https://aicodingrules.org/sitemap.xml">
    <link rel="icon" type="image/png" href="favicon.png">
    <title>Interactive Report: The AI Coding Agent Rule Specification (AI-Rule-Spec)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
   
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8; /* Warm Neutral Background */
            color: #4B4B4B;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #D97706; /* Amber-700 */
            border-bottom-color: #D97706;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .tab-button {
            transition: background-color 0.3s, color 0.3s;
        }
        .tab-button.active {
            background-color: #F59E0B; /* Amber-500 */
            color: #ffffff;
        }
        .section-card {
            background-color: #FFFFFF;
            border: 1px solid #F3F4F6; /* Gray-100 */
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
        }
        .hierarchy-box {
            border: 2px solid #E5E7EB; /* Gray-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            background-color: #FAFAF9; /* Stone-50 */
            margin: 0.5rem 0;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .hierarchy-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07);
        }
        .hierarchy-arrow {
            text-align: center;
            font-size: 1.5rem;
            color: #9CA3AF; /* Gray-400 */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">AI Coding Agent Rules</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#landscape" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Landscape</a>
                        <a href="#comparison" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Comparison</a>
                        <a href="#principles" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Principles</a>
                        <a href="#specification" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">The Specification</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <!-- Hero Section -->
        <section class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-extrabold tracking-tight text-gray-900 mb-4">Standardized Rules for AI-assisted Software Development and Coding Agents</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600">
                Software development is changing rapidly, and AI coding agents (Codex, Claude Code, GitHub Copilot, Cursor, Windsurf, etc.) are at the forefront of this transformation.  This initiative explores the fragmented landscape of AI coding agent rules and proposes the <strong class="font-semibold text-gray-800">AI Coding Agent Rules</strong>, a unified standard to enable interoperability, quality, and security in AI-assisted software engineering.
            </p>
        </section>

        <!-- Current Landscape Section -->
        <section id="landscape" class="mb-16 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h3 class="text-3xl font-bold text-gray-900 mb-4">Current Landscape: The Fragmentation Problem</h3>
                <p class="text-gray-600 mb-6">
                    The power of AI coding agents is undeniable, but their growth has led to a fractured ecosystem. Each major tool (e.g. Cursor, Windsurf, GitHub Copilot, etc.) uses its own proprietary system for defining the rules that guide AI behavior. This section provides an overview of each tool's approach, highlighting the challenges this fragmentation creates for developers and organizations aiming for consistent, high-quality, and secure code.
                </p>
                <p>We need a vendor-agnostic standard designed to unify the definition, scoping, and application of rules for AI coding agent behavior. The proposed specification synthesizes existing best practices observed in leading tools and introduces a resilient framework to support the future evolution of AI-assisted development.</p>

            </div>
        </section>

        <!-- Comparison Section -->
        <section id="comparison" class="mb-16 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h3 class="text-3xl font-bold text-gray-900 mb-2 text-center">Current Rule System Implementations</h3>
                <p class="text-gray-600 mb-8 text-center max-w-2xl mx-auto">
                    Each major AI coding agent has developed its own approach to rule definition and management. The chart below provides a high-level visual comparison of key features across platforms, while the table offers a detailed breakdown of their current implementations. They are all great in most of the categories; however, this analysis reveals the fragmentation that motivates the need for a unified standard.
                </p>
                <div class="chart-container mb-12">
                    <canvas id="comparisonChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Feature</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cursor</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Windsurf</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">GitHub Copilot</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Augment Code</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">File Location</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">.cursor/rules + User Rules</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">global_rules.md + .windsurf/rules</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">.github/copilot-instructions.md</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">.augment/rules</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Rule Types</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Always, Auto, Agent, Manual</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Always On, Model Decision, Glob, Manual</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Repository-wide with applyTo scoping</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Always, Auto, Manual</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Scoping Mechanism</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Nested dirs + glob patterns</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Global vs Workspace + globs</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">applyTo frontmatter</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Directory auto-import</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">File Format</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">MDC with metadata</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Markdown (12K limit)</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Markdown</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">.md or .mdx</td>
                            </tr>
                             <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Manual Activation</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">@ruleName</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">@mention</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold">Not supported</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">@tag</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">AI-Driven Selection</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">Yes (Agent Requested)</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">Yes (Model Decision)</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold">No</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold">Yes (Auto)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        



        
        <!-- Foundational Principles Section -->
        <section id="principles" class="mb-16 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h3 class="text-3xl font-bold text-gray-900 mb-4">Foundational Principles for a Standard</h3>
                <p class="text-gray-600 mb-8">
                    Based on the analysis of existing systems and software engineering best practices, a successful standard must be built on a set of core principles. These tenets ensure the standard is robust, future-proof, and serves the needs of the entire development community.
                </p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Declarative & Human-Readable</h4>
                        <p class="text-sm text-gray-600">Define *what* to do using natural language for model-agnostic readability.</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Modular & Composable</h4>
                        <p class="text-sm text-gray-600">Build complex behaviors from small, reusable rule components.</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Hierarchical & Overridable</h4>
                        <p class="text-sm text-gray-600">Support layers of rules (user, project, org) with clear precedence.</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Version-Controlled & Discoverable</h4>
                        <p class="text-sm text-gray-600">Treat rules as code, storing them alongside the project in Git. This is the best distribution mechanism for rules.</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Testable & Validatable</h4>
                        <p class="text-sm text-gray-600">Ensure rules can be verified to prevent "AI drift" and errors.</p>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-lg mb-1 text-gray-800">Extensible & Tool-Agnostic</h4>
                        <p class="text-sm text-gray-600">Accommodate future AI capabilities and prevent vendor lock-in. This is the best way to ensure that the rules are not tied to a specific tool.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Specification Section -->
        <section id="specification" class="scroll-mt-20">
             <div class="section-card p-6 md:p-8">
                <h3 class="text-3xl font-bold text-gray-900 mb-2 text-center">The AI Coding Agent Rule Spec Proposal</h3>
                <p class="text-gray-600 mb-8 text-center max-w-3xl mx-auto">
                    The Open AI Coding Agent Rule standard is a unified framework for defining AI coding agent rules. It combines the precision of a structured format (YAML) with the expressiveness of natural language (Markdown). Explore the core components of the proposed specification below.
                <br>
                    Questions? Contact  <a href="https://www.linkedin.com/in/santosomar/" class="text-blue-600"> Omar Santos via LinkedIn</a>.
                </p>

                <div class="flex flex-col md:flex-row gap-8">
                    <!-- Tabs Navigation -->
                    <div class="w-full md:w-1/4">
                        <div id="tabs-nav" class="flex md:flex-col space-x-2 md:space-x-0 md:space-y-1" role="tablist" aria-orientation="vertical">
                            <button class="tab-button w-full text-left px-4 py-2 rounded-md text-sm font-medium active" id="tab-rdl-button" role="tab" aria-selected="true" aria-controls="tab-rdl">Rule Definition Language</button>
                            <button class="tab-button w-full text-left px-4 py-2 rounded-md text-sm font-medium" id="tab-scoping-button" role="tab" aria-selected="false" aria-controls="tab-scoping">Scoping & Hierarchy</button>
                            <button class="tab-button w-full text-left px-4 py-2 rounded-md text-sm font-medium" id="tab-anatomy-button" role="tab" aria-selected="false" aria-controls="tab-anatomy">Rule Anatomy</button>
                            <button class="tab-button w-full text-left px-4 py-2 rounded-md text-sm font-medium" id="tab-example-button" role="tab" aria-selected="false" aria-controls="tab-example">Example Rule</button>
                        </div>
                    </div>

                    <!-- Tabs Content -->
                    <div class="w-full md:w-3/4">
                        <div id="tab-rdl" role="tabpanel" aria-labelledby="tab-rdl-button">
                            <h4 class="text-2xl font-bold text-gray-800 mb-3">Rule Definition Language (RDL)</h4>
                            <p class="text-gray-600 mb-4">The spec proposes a hybrid format: YAML for machine-readable structure and metadata, with embedded Markdown for human-readable, natural language guidance. This balances precision for tools with the flexibility needed to convey nuanced intent to an LLM.</p>
                            <pre class="bg-gray-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>id: "unique-rule-id"
name: "Human-Readable Name"
description: "What this rule does."
guidance: |
  # Markdown instructions for the AI
  - Follow these steps...
  - Use this specific library...</code></pre>
                        </div>
                        <div id="tab-scoping" role="tabpanel" aria-labelledby="tab-scoping-button" class="hidden">
                            <h4 class="text-2xl font-bold text-gray-800 mb-3">Scoping & Hierarchy</h4>
                            <p class="text-gray-600 mb-4">A formalized hierarchy ensures rules are applied predictably. More specific rules override broader ones, providing both centralized governance and local flexibility. The diagram shows the order of precedence.</p>
                            <div class="hierarchy-box font-semibold text-amber-700">Organization Rules (Highest Priority)</div>
                            <div class="hierarchy-arrow">↓</div>
                            <div class="hierarchy-box">User Global Rules</div>
                            <div class="hierarchy-arrow">↓</div>
                            <div class="hierarchy-box">User Project/Workspace Rules</div>
                        </div>
                        <div id="tab-anatomy" role="tabpanel" aria-labelledby="tab-anatomy-button" class="hidden">
                             <h4 class="text-2xl font-bold text-gray-800 mb-3">Example Rule Anatomy</h4>
                             <p class="text-gray-600 mb-4">The following is an example of a rule that is composed of standardized fields to ensure it is discoverable, understandable, and actionable by any compliant AI agent.</p>
                             <ul class="list-disc list-inside space-y-2 text-gray-600">
                                <li><strong class="font-semibold text-gray-700">id, name, description:</strong> Core identifiers.</li>
                                <li><strong class="font-semibold text-gray-700">guidance:</strong> The Markdown-based instructions for the AI.</li>
                                <li><strong class="font-semibold text-gray-700">applies_when, triggers:</strong> Defines the context for rule activation.</li>
                                <li><strong class="font-semibold text-gray-700">examples:</strong> Concrete good/bad code snippets to guide the AI.</li>
                                <li><strong class="font-semibold text-gray-700">tools_allowed:</strong> Explicitly grants permission to use tools like `run_command` or `web_search`.</li>
                                <li><strong class="font-semibold text-gray-700">priority:</strong> A numeric value for fine-grained conflict resolution.</li>
                             </ul>
                        </div>
                        <div id="tab-example" role="tabpanel" aria-labelledby="tab-example-button" class="hidden">
                            <h4 class="text-2xl font-bold text-gray-800 mb-3">Illustrative Example: Clean Architecture</h4>
                            <p class="text-gray-600 mb-4">This example shows how the spec can enforce a complex architectural pattern, including directory structure, dependency rules, and security policies for API endpoints.</p>
                             <pre class="bg-gray-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>- id: "arch-clean-service-template"
  name: "Clean Architecture Service Template"
  description: "Ensures new services adhere to Clean Architecture principles."
  applies_when:
    paths: ["**/src/services/**/*.ts"]
  guidance: |
    # Clean Architecture Service Guidelines
    When creating a service, adhere to Clean Architecture.

    **1. Directory Structure:**
    - `domain/`: Core business logic.
    - `application/`: Use cases.
    - `infrastructure/`: External details (DB, APIs).
    
    **2. Credential Security:**
    - NEVER store credentials in the codebase.
    - Use environment variables in examples but suggest the use of a secrets manager.
    - Use a tool like `dotenv` to load environment variables from a `.env` file.
    - Use a tool like `dotenv-expand` to expand environment variables in the codebase.
    - Use a tool like `dotenv-vault` to store and manage environment variables in a secure way. 
    </code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-gray-200 mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-gray-500 text-sm">
            <p>Questions? Contact  <a href="https://www.linkedin.com/in/santosomar/" class="text-blue-600"> Omar Santos via LinkedIn</a>.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Chart.js Implementation
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            const comparisonChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        'Rule Flexibility', 
                        'Scoping Sophistication', 
                        'Ease of Setup', 
                        'AI Integration', 
                        'Developer Experience'
                    ],
                    datasets: [{
                        label: 'Cursor',
                        data: [5, 5, 4, 5, 5],
                        backgroundColor: 'rgba(234, 179, 8, 0.2)',
                        borderColor: 'rgba(234, 179, 8, 1)',
                        pointBackgroundColor: 'rgba(234, 179, 8, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(234, 179, 8, 1)'
                    }, {
                        label: 'Windsurf',
                        data: [4, 4, 4, 4, 4],
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
                    }, {
                        label: 'GitHub Copilot',
                        data: [2, 3, 5, 2, 3],
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(16, 185, 129, 1)'
                    }, {
                        label: 'Augment Code',
                        data: [3, 3, 4, 4, 4],
                        backgroundColor: 'rgba(147, 51, 234, 0.2)',
                        borderColor: 'rgba(147, 51, 234, 1)',
                        pointBackgroundColor: 'rgba(147, 51, 234, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(147, 51, 234, 1)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            pointLabels: {
                                font: {
                                    size: 12,
                                    family: 'Inter'
                                },
                                color: '#4B4B4B'
                            },
                            ticks: {
                                backdropColor: 'rgba(255, 255, 255, 0.75)',
                                stepSize: 1,
                                max: 5,
                                min: 0
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.r !== null) {
                                        label += context.parsed.r;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // Smooth Scrolling & Active Nav Link
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    document.querySelector(targetId).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px" });

            sections.forEach(section => {
                observer.observe(section);
            });

            // Tabbed Interface Logic
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('[role="tabpanel"]');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Deactivate all
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.setAttribute('aria-selected', 'false');
                    });
                    tabPanels.forEach(panel => {
                        panel.classList.add('hidden');
                    });

                    // Activate clicked
                    button.classList.add('active');
                    button.setAttribute('aria-selected', 'true');
                    const targetPanelId = button.getAttribute('aria-controls');
                    document.getElementById(targetPanelId).classList.remove('hidden');
                });
            });
        });
    </script>
</body>
</html>
